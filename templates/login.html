{% extends "template.html" %}

{% block content %}
<div class="polaroid">
    <div class="login-container">
        <h2 class="login-title">Login Required</h2>
        <div data-netlify-identity-button></div>
    </div>
</div>

<style>
    .polaroid {
        background: #ffffff;
        padding: 20px;
        box-shadow: 0 0 30px rgba(195, 0, 16, 0.3);
        transform: rotate(-3deg);
        width: 500px;
        aspect-ratio: 1/1.2;
        position: relative;
        box-sizing: border-box;
        margin: 40px auto;
    }
    .login-container {
        background-color: #000000;
        padding: 40px;
        width: 100%;
        height: 80%;
        box-sizing: border-box;
        border: 2px solid #ffffff;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 20px;
    }
    .login-title {
        color: #ffffff;
        text-align: center;
        font-size: 24px;
        margin-bottom: 20px;
    }
</style>

<script>
    if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
            if (!user) {
                window.netlifyIdentity.on("login", () => {
                    window.location.href = "/";
                });
            } else {
                window.location.href = "/";
            }
        });
    }
</script>
{% endblock %}
